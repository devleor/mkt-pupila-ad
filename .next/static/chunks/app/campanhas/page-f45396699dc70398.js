(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{735:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var r=t(1682),s=t(9037);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}t(391)},2642:(e,a,t)=>{"use strict";t.d(a,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o,wL:()=>m});var r=t(7943),s=t(8543),n=t(735);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});m.displayName="CardFooter"},3524:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(7943),s=t(9550),n=t.n(s),i=t(8416),o=t(2642);t(8543);var d=t(692),l=t(735);let c=(0,d.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function m(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)(c({variant:t}),a),...s})}var u=t(7416),f=t(4151),p=t(6106),h=t(6400),v=t(7959),x=t(725),g=t(5835);function b(){let{campanhas:e,removerCampanha:a}=(0,h.V)(),{toast:t}=(0,v.d)(),s=e=>{try{return(0,x.GP)(new Date(e),"dd/MM/yyyy",{locale:g.F})}catch(e){return"Data inv\xe1lida"}},d=e=>{var a;let t=(null===(a=e.assets)||void 0===a?void 0:a.length)||0;return"".concat(1,".").concat(t>0?t:0)},l=(e,r,s)=>{s.preventDefault(),s.stopPropagation(),confirm('Tem certeza que deseja remover a campanha "'.concat(r,'"?'))&&(a(e),t({title:"Campanha removida",description:'A campanha "'.concat(r,'" foi removida com sucesso.')}))};return(0,r.jsxs)("div",{className:"container px-4 py-8 mx-auto md:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Campanhas"}),(0,r.jsx)(n(),{href:"/campanhas/nova",children:(0,r.jsxs)(i.$,{children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Nova Campanha"]})})]}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 border rounded-lg bg-gray-50",children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-2",children:"Nenhuma campanha encontrada"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6",children:"Comece criando sua primeira campanha de marketing."}),(0,r.jsx)(n(),{href:"/campanhas/nova",children:(0,r.jsxs)(i.$,{children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Criar Campanha"]})})]}):(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var a;return(0,r.jsxs)(o.Zp,{className:"overflow-hidden",children:[(0,r.jsxs)(o.aR,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(o.ZB,{children:e.nome}),(0,r.jsxs)(m,{variant:"outline",className:"flex items-center gap-1",children:[(0,r.jsx)(f.A,{className:"w-3 h-3"}),"v",d(e)]})]}),(0,r.jsx)(o.BT,{children:e.descricao})]}),(0,r.jsxs)(o.Wu,{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Plataformas:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:e.plataformas.map(e=>(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 dark:bg-gray-800",children:e},e))})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["Criado em: ",s(e.criadoEm)]}),(0,r.jsxs)("span",{children:[(null===(a=e.assets)||void 0===a?void 0:a.length)||0," pe\xe7as"]})]})]}),(0,r.jsxs)(o.wL,{className:"flex justify-between",children:[(0,r.jsxs)(i.$,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:a=>l(e.id,e.nome,a),children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Remover"]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(n(),{href:"/campanhas/".concat(e.id,"/editor"),children:(0,r.jsx)(i.$,{variant:"outline",size:"sm",children:"Ver Detalhes"})})})]})]},e.id)})})]})}},6400:(e,a,t)=>{"use strict";t.d(a,{V:()=>n});var r=t(4832),s=t(1635);let n=(0,r.v)()((0,s.Zr)((e,a)=>({campanhas:[],campanhaAtual:null,adicionarCampanha:a=>{let t="campanha-".concat(Date.now()),r={...a,id:t,criadoEm:new Date().toISOString(),modificadoEm:new Date().toISOString(),assets:[]};return e(e=>({campanhas:[...e.campanhas,r],campanhaAtual:r})),t},atualizarCampanha:(a,t)=>{e(e=>{var r;return{campanhas:e.campanhas.map(e=>e.id===a?{...e,...t,modificadoEm:new Date().toISOString()}:e),campanhaAtual:(null===(r=e.campanhaAtual)||void 0===r?void 0:r.id)===a?{...e.campanhaAtual,...t,modificadoEm:new Date().toISOString()}:e.campanhaAtual}})},removerCampanha:a=>{e(e=>{var t;return{campanhas:e.campanhas.filter(e=>e.id!==a),campanhaAtual:(null===(t=e.campanhaAtual)||void 0===t?void 0:t.id)===a?null:e.campanhaAtual}})},selecionarCampanha:t=>{e({campanhaAtual:a().campanhas.find(e=>e.id===t)||null})},adicionarAsset:(a,t)=>{e(e=>{var r;let s=e.campanhas.map(e=>{let r;if(e.id!==a)return e;let s=e.assets.findIndex(e=>e.plataforma===t.plataforma&&e.formato===t.formato);return s>=0?(r=[...e.assets])[s]=t:r=[...e.assets,t],{...e,assets:r,modificadoEm:new Date().toISOString()}}),n=(null===(r=e.campanhaAtual)||void 0===r?void 0:r.id)===a?s.find(e=>e.id===a)||null:e.campanhaAtual;return{campanhas:s,campanhaAtual:n}})},atualizarAsset:(a,t,r,s)=>{e(e=>{var n;let i=e.campanhas.map(e=>{if(e.id!==a)return e;let n=e.assets.map(e=>e.plataforma===t&&e.formato===r?{...e,elementos:s}:e);return{...e,assets:n,modificadoEm:new Date().toISOString()}}),o=(null===(n=e.campanhaAtual)||void 0===n?void 0:n.id)===a?i.find(e=>e.id===a)||null:e.campanhaAtual;return{campanhas:i,campanhaAtual:o}})},obterAsset:(e,t,r)=>{let s=a().campanhas.find(a=>a.id===e);if(s)return s.assets.find(e=>e.plataforma===t&&e.formato===r)}}),{name:"campanhas-store"}))},7959:(e,a,t)=>{"use strict";t.d(a,{d:()=>u});var r=t(8543);let s={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},n=0,i=new Map,o=(e,a)=>{switch(a.type){case s.ADD_TOAST:return{...e,toasts:[a.toast,...e.toasts].slice(0,5)};case s.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case s.DISMISS_TOAST:{let{toastId:t}=a;return t?f(t):e.toasts.forEach(e=>{f(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case s.REMOVE_TOAST:if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],l={toasts:[]};function c(e){l=o(l,e),d.forEach(e=>{e(l)})}function m(e){let{...a}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:s.DISMISS_TOAST,toastId:t});return c({type:s.ADD_TOAST,toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:s.UPDATE_TOAST,toast:{...e,id:t}})}}function u(){let[e,a]=r.useState(l);return r.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:s.DISMISS_TOAST,toastId:e})}}function f(e){if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:s.REMOVE_TOAST,toastId:e})},1e6);i.set(e,a)}},8078:(e,a,t)=>{Promise.resolve().then(t.bind(t,3524))},8416:(e,a,t)=>{"use strict";t.d(a,{$:()=>l,r:()=>d});var r=t(7943),s=t(8543),n=t(8101),i=t(692),o=t(735);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:l=!1,...c}=e,m=l?n.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(d({variant:s,size:i,className:t})),ref:a,...c})});l.displayName="Button"}},e=>{var a=a=>e(e.s=a);e.O(0,[652,550,138,375,391,340,544,358],()=>a(8078)),_N_E=e.O()}]);