(()=>{var e={};e.id=458,e.ids=[458],e.modules={737:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(44487).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/devleor/Personal/GitHub/mkt-pupila-ad/app/campanhas/nova/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/devleor/Personal/GitHub/mkt-pupila-ad/app/campanhas/nova/page.tsx","default")},2741:(e,a,t)=>{"use strict";t.d(a,{Zr:()=>n});let r=e=>a=>{try{let t=e(a);if(t instanceof Promise)return t;return{then:e=>r(e)(t),catch(e){return this}}}catch(e){return{then(e){return this},catch:a=>r(a)(e)}}},n=(e,a)=>(t,n,s)=>{let o,i={storage:function(e,a){let t;try{t=e()}catch(e){return}return{getItem:e=>{var a;let r=e=>null===e?null:JSON.parse(e,void 0),n=null!=(a=t.getItem(e))?a:null;return n instanceof Promise?n.then(r):r(n)},setItem:(e,a)=>t.setItem(e,JSON.stringify(a,void 0)),removeItem:e=>t.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,a)=>({...a,...e}),...a},l=!1,c=new Set,m=new Set,d=i.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...e)},n,s);let u=()=>{let e=i.partialize({...n()});return d.setItem(i.name,{state:e,version:i.version})},p=s.setState;s.setState=(e,a)=>{p(e,a),u()};let h=e((...e)=>{t(...e),u()},n,s);s.getInitialState=()=>h;let f=()=>{var e,a;if(!d)return;l=!1,c.forEach(e=>{var a;return e(null!=(a=n())?a:h)});let s=(null==(a=i.onRehydrateStorage)?void 0:a.call(i,null!=(e=n())?e:h))||void 0;return r(d.getItem.bind(d))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){let a=i.migrate(e.state,e.version);return a instanceof Promise?a.then(e=>[!0,e]):[!0,a]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var a;let[r,s]=e;if(t(o=i.merge(s,null!=(a=n())?a:h),!0),r)return u()}).then(()=>{null==s||s(o,void 0),o=n(),l=!0,m.forEach(e=>e(o))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},i.skipHydration||f(),o||h}},3070:(e,a,t)=>{"use strict";t.d(a,{V:()=>s});var r=t(59604),n=t(2741);let s=(0,r.v)()((0,n.Zr)((e,a)=>({campanhas:[],campanhaAtual:null,adicionarCampanha:a=>{let t=`campanha-${Date.now()}`,r={...a,id:t,criadoEm:new Date().toISOString(),modificadoEm:new Date().toISOString(),assets:[]};return e(e=>({campanhas:[...e.campanhas,r],campanhaAtual:r})),t},atualizarCampanha:(a,t)=>{e(e=>({campanhas:e.campanhas.map(e=>e.id===a?{...e,...t,modificadoEm:new Date().toISOString()}:e),campanhaAtual:e.campanhaAtual?.id===a?{...e.campanhaAtual,...t,modificadoEm:new Date().toISOString()}:e.campanhaAtual}))},removerCampanha:a=>{e(e=>({campanhas:e.campanhas.filter(e=>e.id!==a),campanhaAtual:e.campanhaAtual?.id===a?null:e.campanhaAtual}))},selecionarCampanha:t=>{e({campanhaAtual:a().campanhas.find(e=>e.id===t)||null})},adicionarAsset:(a,t)=>{e(e=>{let r=e.campanhas.map(e=>{let r;if(e.id!==a)return e;let n=e.assets.findIndex(e=>e.plataforma===t.plataforma&&e.formato===t.formato);return n>=0?(r=[...e.assets])[n]=t:r=[...e.assets,t],{...e,assets:r,modificadoEm:new Date().toISOString()}}),n=e.campanhaAtual?.id===a?r.find(e=>e.id===a)||null:e.campanhaAtual;return{campanhas:r,campanhaAtual:n}})},atualizarAsset:(a,t,r,n)=>{e(e=>{let s=e.campanhas.map(e=>{if(e.id!==a)return e;let s=e.assets.map(e=>e.plataforma===t&&e.formato===r?{...e,elementos:n}:e);return{...e,assets:s,modificadoEm:new Date().toISOString()}}),o=e.campanhaAtual?.id===a?s.find(e=>e.id===a)||null:e.campanhaAtual;return{campanhas:s,campanhaAtual:o}})},obterAsset:(e,t,r)=>{let n=a().campanhas.find(a=>a.id===e);if(n)return n.assets.find(e=>e.plataforma===t&&e.formato===r)}}),{name:"campanhas-store"}))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5777:(e,a,t)=>{"use strict";var r=t(35297);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23979:(e,a,t)=>{Promise.resolve().then(t.bind(t,83487))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29555:(e,a,t)=>{Promise.resolve().then(t.bind(t,737))},33873:e=>{"use strict";e.exports=require("path")},50584:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>o.a,__next_app__:()=>d,pages:()=>m,routeModule:()=>u,tree:()=>c});var r=t(91579),n=t(72148),s=t(41398),o=t.n(s),i=t(7873),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(a,l);let c={children:["",{children:["campanhas",{children:["nova",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,737)),"/home/devleor/Personal/GitHub/mkt-pupila-ad/app/campanhas/nova/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,76166)),"/home/devleor/Personal/GitHub/mkt-pupila-ad/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,46130,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,64275,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,97768,23)),"next/dist/client/components/unauthorized-error"]}]}.children,m=["/home/devleor/Personal/GitHub/mkt-pupila-ad/app/campanhas/nova/page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/campanhas/nova/page",pathname:"/campanhas/nova",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},59604:(e,a,t)=>{"use strict";t.d(a,{v:()=>l});var r=t(35006);let n=e=>{let a;let t=new Set,r=(e,r)=>{let n="function"==typeof e?e(a):e;if(!Object.is(n,a)){let e=a;a=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},a,n),t.forEach(t=>t(a,e))}},n=()=>a,s={setState:r,getState:n,getInitialState:()=>o,subscribe:e=>(t.add(e),()=>t.delete(e))},o=a=e(r,n,s);return s},s=e=>e?n(e):n,o=e=>e,i=e=>{let a=s(e),t=e=>(function(e,a=o){let t=r.useSyncExternalStore(e.subscribe,()=>a(e.getState()),()=>a(e.getInitialState()));return r.useDebugValue(t),t})(a,e);return Object.assign(t,a),t},l=e=>e?i(e):i},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},83487:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(64731),n=t(5777),s=t(3070),o=t(27069),i=t(18319);function l(){let e=(0,n.useRouter)(),{toast:a}=(0,o.d)(),t=(0,s.V)(e=>e.adicionarCampanha);return(0,r.jsx)("div",{className:"page-container",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsx)("h1",{className:"page-title",children:"Nova Campanha"}),(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("form",{onSubmit:r=>{r.preventDefault();let n=new FormData(r.currentTarget),s=n.get("nome"),o=n.get("descricao");if(!s.trim()){a({title:"Nome obrigat\xf3rio",description:"Por favor, informe um nome para a campanha.",variant:"destructive"});return}try{let r=t({nome:s,descricao:o,plataformas:i.LG.map(e=>e.id)});a({title:"Campanha criada",description:"A campanha foi criada com sucesso!"}),e.push(`/campanhas/${r}/editor`)}catch(e){console.error("Erro ao criar campanha:",e),a({title:"Erro ao criar campanha",description:"Ocorreu um erro ao criar a campanha. Por favor, tente novamente.",variant:"destructive"})}},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"nome",className:"form-label",children:"Nome da Campanha"}),(0,r.jsx)("input",{type:"text",id:"nome",name:"nome",className:"input",placeholder:"Digite o nome da sua campanha"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"descricao",className:"form-label",children:"Descri\xe7\xe3o"}),(0,r.jsx)("textarea",{id:"descricao",name:"descricao",className:"textarea",placeholder:"Descreva o objetivo da sua campanha",rows:4})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>e.back(),children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Criar Campanha"})]})]})})]})})}}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[151,447,242],()=>t(50584));module.exports=r})();